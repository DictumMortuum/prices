{"version":3,"sources":["pages/cartoff.svg","components/BoardgameImage.js","api/common.js","hooks/useBoardgame.js","components/BoardgameCard.js","common.js","components/StockDropdown.js","components/StoreDropdown.js","components/Breadcrumbs.js","components/SearchButton.js","components/SearchInput.js","hooks/useLogin.js","pages/GenericPage.js","hooks/useStep.js","pages/LandingPage.js","components/PriceCard.js","components/BoardgameHistoricPrice.js","hooks/usePrices.js","hooks/useHistory.js","hooks/useId.js","pages/BoardgamePage.js","pages/CartPage.js","pages/SearchPage.js","components/GeeklistCard.js","hooks/useGeeklist.js","pages/GeeklistPage.js","components/CompareCard.js","hooks/useWishlist.js","components/BggInput.js","pages/WishlistPage.js","hooks/useStore.js","pages/ComparePage.js","api/prices.js","api/stores.js","api/date.js","App.js","index.js","reducers/prices.js"],"names":["module","exports","__webpack_require__","p","BoardgameImage","props","srcs","_useState","useState","_useState2","Object","slicedToArray","i","setI","src","undefined","useEffect","image","Image","onerror","onload","complete","naturalWidth","naturalHeight","react_default","a","createElement","CardMedia","style","paddingTop","base","forceError","res","status","Error","logError","error","console","log","concat","attemptNumber","retriesLeft","extractBggItem","d","obj","children","map","_ref","name","attributes","value","objectSpread","id","parseInt","objectid","transformBggData","data","tpl","boardgame_id","boardgame_name","images","useBoardgame","boardgame","setBoardgame","isMounted","fetch","then","json","fetchBoardgame","useStyles","makeStyles","theme","card_header","minHeight","BoardgameCard","rank","items","classes","available_prices","sort","b","price","l","length","lowest","highest","Card","key","square","elevation","react_router_dom","to","toConsumableArray","CardContent","className","Typography","variant","color","useParams","_useLocation","useLocation","search","rest","objectWithoutProperties","params","URLSearchParams","page","get","stock","has_stock","has","changePage","path","history","event","push","pages","col","pageSize","Math","ceil","StockDropdown","_useSelector","useSelector","state","pricesReducer","stocks","_useParams","url_stock","dispatch","useDispatch","type","FormControl","fullWidth","InputLabel","htmlFor","Select","labelId","onChange","target","MenuItem","StoreDropdown","stores","store","root","flexGrow","textDecoration","components_Breadcrumbs","args","pathname","split","slice","filter","Breadcrumbs","separator","aria-label","Component","search_term","isSending","setIsSending","useHistory","useRef","current","sendRequest","useCallback","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","abrupt","stop","InputAdornment","position","IconButton","disabled","onClick","Search_default","input","margin","spacing","defineProperty","breakpoints","up","marginRight","payload","Paper","component","onSubmit","e","preventDefault","InputBase","placeholder","inputProps","endAdornment","components_SearchButton","useLogin","saved","user","_useAuth","useAuth0","isAuthenticated","loginWithRedirect","logout","body","method","headers","Content-Type","JSON","stringify","details","background","fontFamily","appbar","marginBottom","bottomBar","top","bottom","content","padding","pagination","MainPaper","assign","LoginButton","Button","LogoutButton","picture","returnTo","window","location","origin","Avatar","alt","CartButton","cart_results","Badge","badgeContent","max","Link","ShoppingCart","FavoriteButton","Favorite","SearchButton","Pageview","Bar","matches","breadcrumbs","Toolbar","react","SearchInput","GenericPage_SearchButton","GenericPage_FavoriteButton","GenericPage_CartButton","GenericPage_LogoutButton","GenericPage_LoginButton","Nothing","Grid","container","alignContent","alignItems","direction","item","xs","spinner","CircularProgress","height","EmptyImg","Controls","current_stores","additional_controls","Main","child_data","page_size","paging","page_name","pre_component","store_filtered","page_data","Pagination","shape","count","GenericPage_Nothing","GenericPage","useMediaQuery","date","stock_filtered","_props$paging","store_ids","Set","store_id","includes","array","pageNumber","paginate","_useLogin","scrollTo","AppBar","GenericPage_Bar","Container","maxWidth","md","GenericPage_Controls","GenericPage_Main","packagejs","version","Date","toLocaleDateString","storeFilter","stockFilter","useStep","f","prices","page_filtered","pricesToGroups","rs","LandingPage","_useStep","grouped","tile","lg","media","out_of_stock","opacity","addUTM","url","Media","_props$boardgame","store_thumb","thumb","self_ref","href","rel","PriceCard","_props$boardgame2","self","classNames","PriceCard_Media","CardActions","FacebookShareButton","FacebookIcon","size","round","FacebookMessengerShareButton","FacebookMessengerIcon","ViberShareButton","ViberIcon","WhatsappShareButton","WhatsappIcon","TwitterShareButton","TwitterIcon","cart","AddShoppingCart_default","marginLeft","label","maxMinAvg","arr","min","sum","parseFloat","toFixed","avg","formatDate","getDate","getMonth","formatLabel","getFullYear","BoardgameHistoricPrice","processed","cr_date","retval","k","_maxMinAvg","range","valueOf","transform","ResponsiveContainer","width","ComposedChart","CartesianGrid","strokeDasharray","XAxis","dataKey","scale","domain","tickFormatter","YAxis","Tooltip","labelFormatter","Area","fillOpacity","fill","Line","stroke","strokeWidth","activeDot","r","usePrices","setPrices","fetchPrices","setHistory","fetchPriceHistory","useId","BoardgamePage","fn","price_ids","CartPage","searchFilter","search_enabled","search_results","fuse","includeScore","shouldSort","ignoreLocation","keys","score","SearchPage","paddingLeft","colored","backgroundColor","GeeklistCard","alternate","req","list_id","text","xml","XMLParser","parseFromString","useGeeklist","geeklist_id","setItems","retries","pRetry","onFailedAttempt","Spinner","GeeklistPage","geeklist","GeeklistPage_Spinner","CompareCard","_wishlist$filter","wishlist","thumbnail","encodeURIComponent","fetchWishList","wishlist_term","term","sent","t0","_x","apply","this","arguments","OutlinedInput","paddingRight","onKeyPress","PriorityDropdown","wishlist_priority","ViewSwitch","wishlist_stores_view","FormGroup","FormControlLabel","control","Switch","checked","StoresList","_stores$filter","useStore","WishlistPage","username","_callee2","_context2","useWishlist","_useSelector3","priority_filtered","wishlistpriority","pricesToStores","Fragment","BggInput","WishlistPage_PriorityDropdown","WishlistPage_ViewSwitch","WishlistPage_Spinner","WishlistPage_StoresList","StoresView","WishesView","ComparePage","fetchAllPrices","createAsyncThunk","buffer","compressed","decompressed","origText","arrayBuffer","Uint8Array","fflate","parse","fetchStores","fetchDate","localStorage","getItem","setItem","App","react_router","exact","rootReducer","combineReducers","action","composedEnhancer","composeWithDevTools","applyMiddleware","thunkMiddleware","createStore","createTheme","palette","primary","main","secondary","overrides","MuiInputLabel","ReactDOM","render","ThemeProvider","es","auth0_react_esm","clientId","redirectUri","document","getElementById"],"mappings":"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","file":"static/js/main.d9c67be1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cartoff.dd87c6d4.svg\";","import React, { useEffect, useState } from \"react\";\nimport CardMedia from '@material-ui/core/CardMedia';\n\nexport default props => {\n  const { srcs } = props;\n  const [i, setI] = useState(0);\n  const src = srcs[i] === undefined ? \"https://via.placeholder.com/250\" : srcs[i]\n\n  useEffect(() => {\n    const image = new Image();\n    const checkValid = () => {\n      if (image.complete && image.naturalWidth < 100 && image.naturalHeight < 100) {\n        setI(i+1);\n      }\n    }\n\n    image.onerror = () => { setI(i+1) }\n    image.onload = checkValid;\n    image.src = srcs[i];\n  }, [srcs]);\n\n  return (\n    <CardMedia style={{ paddingTop: '75%' }} image={src} />\n  );\n};\n","export const base = 'https://raw.githubusercontent.com/DictumMortuum/json-api/master'\nexport const bgg_xmlapi = 'https://boardgamegeek.com/xmlapi'\nexport const bgg_xmlapi2 = 'https://api.geekdo.com/xmlapi2'\nexport const deta = 'https://szb34l.deta.dev'\n\nexport const forceError = res => {\n  if (res.status === 202) {\n    throw new Error(\"impersonating an error, as we have to retry, since the request is queued on the backend now\");\n  } else {\n    return res\n  }\n}\n\nexport const logError = error => {\n  console.log(`Attempt ${error.attemptNumber} failed. There are ${error.retriesLeft} retries left.`);\n}\n\nconst extractBggItem = d => {\n  const obj = {};\n  const { children } = d;\n\n  children.map(({ name, attributes, value}) => {\n    if(value !== \"\") {\n      obj[name] = value;\n    } else {\n      obj[name] = attributes\n    }\n\n    return name\n  });\n\n  return {\n    id: parseInt(d.attributes.objectid),\n    ...obj,\n  }\n}\n\nexport const transformBggData = data => {\n  // console.log(\n  //   data.children.map(extractBggItem)\n  // )\n  // const objtoid = data.children.map(d => d.attributes.objectid)\n  // const filtered = objtoid.filter(d => d !== undefined)\n  // const unique = [...new Set(filtered)]\n  // return unique.map(d => parseInt(d))\n  return data.children.map(extractBggItem);\n}\n","import { useState, useEffect } from 'react';\nimport { base } from \"../api/common\";\n\nconst fetchBoardgame = boardgame_id => {\n  return fetch(base + '/rest/v1/boardgames/' + boardgame_id + '/boardgame.json').then(res => res.json())\n}\n\nconst tpl = {\n  boardgame_id: \"\",\n  boardgame_name: \"\",\n  images: [],\n}\n\nexport const useBoardgame = boardgame_id => {\n  const [boardgame, setBoardgame] = useState(tpl)\n\n  useEffect(() => {\n    let isMounted = true;\n\n    fetchBoardgame(boardgame_id).then(data => {\n      if (isMounted) {\n        setBoardgame(data)\n      }\n    })\n\n    return () => { isMounted = false };\n  }, [boardgame_id])\n\n  return boardgame\n}\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport BoardgameImage from './BoardgameImage';\nimport { Link } from \"react-router-dom\";\nimport { useBoardgame } from '../hooks/useBoardgame';\n\nconst useStyles = makeStyles((theme) => ({\n  card_header: {\n    minHeight: 120,\n  },\n}));\n\nexport default props => {\n  const { id, boardgame_id, rank, items } = props;\n  const classes = useStyles();\n  const boardgame = useBoardgame(boardgame_id);\n  const { images, boardgame_name } = boardgame;\n  const available_prices = items.sort((a, b) => a.price - b.price)\n  const l = available_prices.length;\n\n  let lowest = undefined;\n  let highest = undefined;\n\n  if (l >= 1) {\n    lowest = available_prices[0]\n  }\n\n  if (l >= 2) {\n    if (lowest.price !== available_prices[l-1].price) {\n      highest = available_prices[l-1]\n    }\n  }\n\n  return (\n    <Card key={id} square={true} elevation={3}>\n      <Link to={\"/item/\" + boardgame_id}>\n        <BoardgameImage srcs={[`https://raw.githubusercontent.com/DictumMortuum/json-api/master/rest/v1/boardgames/${boardgame_id}/image.avif`, ...images]} />\n      </Link>\n      <CardContent className={classes.card_header}>\n        {rank < 999999 && <Typography variant=\"subtitle1\" color=\"textSecondary\">\n          BGG Rank {rank}\n        </Typography>}\n        <Typography variant=\"subtitle1\" color=\"textSecondary\">\n          {lowest && \"€\" + lowest.price} {highest && \"- €\" + highest.price}\n        </Typography>\n        <Typography variant=\"subtitle1\">\n          {boardgame_name}\n        </Typography>\n      </CardContent>\n    </Card>\n  )\n}\n","import { useLocation } from 'react-router-dom';\n\nexport const useParams = () => {\n  const { search, ...rest } = useLocation();\n  const params = new URLSearchParams(search)\n  const page = parseInt(params.get(\"page\")) || 1\n  const stock = params.get(\"stock\") || 0\n\n  return {\n    ...rest,\n    page,\n    stock,\n    has_stock: params.has(\"stock\"),\n  }\n}\n\nexport const changePage = (path, history) => (event, value) => {\n  if (value === 1) {\n    history.push(path)\n  } else {\n    history.push(path + \"?page=\" + value)\n  }\n}\n\nexport const paginate = (array, pageSize, pageNumber, paging) => {\n  return paging === true ? array.slice((pageNumber-1) * pageSize, pageNumber * pageSize) : array;\n}\n\nexport const pages = (col, pageSize) => Math.ceil(col.length/pageSize)\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { useParams } from '../common';\n\nexport default () => {\n  const { stock, stocks } = useSelector(state => state.pricesReducer)\n  const { stock: url_stock, has_stock } = useParams();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (!has_stock) {\n      return\n    }\n\n    dispatch({\n      type: \"SET_STOCK\",\n      stock: parseInt(url_stock)\n    })\n  }, [url_stock]);\n\n  return (\n    <FormControl variant=\"outlined\" fullWidth>\n      <InputLabel htmlFor=\"stock-select-label\">Stock</InputLabel>\n      <Select\n        labelId=\"stock-select-label\"\n        id=\"stock-select\"\n        value={stock}\n        onChange={(event) => {\n          dispatch({\n            type: \"SET_STOCK\",\n            stock: event.target.value\n          })\n        }}\n      >\n        {stocks.map((d, i) => <MenuItem key={d} value={i}>{d}</MenuItem>)}\n        <MenuItem key={-1} value={-1}>Show all</MenuItem>\n      </Select>\n    </FormControl>\n  )\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nexport default props => {\n  const { stores } = props;\n  const { store } = useSelector(state => state.pricesReducer)\n  const dispatch = useDispatch();\n\n  return (\n    <FormControl variant=\"outlined\" fullWidth>\n      <InputLabel htmlFor=\"store-select-label\">Store</InputLabel>\n      <Select\n        labelId=\"store-select-label\"\n        id=\"store-select\"\n        value={store}\n        onChange={(event) => {\n          dispatch({\n            type: \"SET_STORE\",\n            store: event.target.value\n          })\n        }}\n      >\n        <MenuItem key={-1} value={-1}>All stores</MenuItem>\n        {stores.map(d => <MenuItem key={d.id} value={d.id}>{d.name}</MenuItem>)}\n      </Select>\n    </FormControl>\n  )\n}\n","import React from 'react';\nimport Breadcrumbs from '@material-ui/core/Breadcrumbs';\nimport { Typography } from '@material-ui/core';\nimport { Link, useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    color: \"#d8dee9\",\n    flexGrow: 1\n  },\n  color: {\n    color: \"#d8dee9\",\n    textDecoration: \"none\",\n  }\n}));\n\nexport default () => {\n  const classes = useStyles();\n  const { pathname } = useLocation();\n  const args = pathname.split(\"/\").slice(2).filter(d => d !== \"item\").filter(d => d !== \"\");\n\n  return (\n    <Breadcrumbs className={classes.root} separator=\"/\" aria-label=\"breadcrumb\">\n      <Link className={classes.color} to={\"/\"}>\n        <Typography variant=\"h5\">Prices</Typography>\n      </Link>\n      {args.map(d => (\n        <Link key={d} className={classes.color} to={\"/item/\" + d}>\n          <Typography variant=\"h5\" >{d}</Typography>\n        </Link>\n      ))}\n    </Breadcrumbs>\n  );\n}\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst Component = () => {\n  const dispatch = useDispatch();\n  const { search_term } = useSelector(state => state.pricesReducer);\n  const [isSending, setIsSending] = useState(false);\n  const history = useHistory();\n  const isMounted = useRef(true);\n\n  // set isMounted to false when we unmount the component\n  useEffect(() => {\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n\n  const sendRequest = useCallback(async() => {\n    // don't send again while we are sending\n    if (isSending) return\n    // update state\n    setIsSending(true)\n    dispatch({ type: \"EXECUTE_SEARCH\" })\n    history.push(\"/search\")\n\n    // once the request is sent, update state again\n    if (isMounted.current) // only update if we are still mounted\n      setIsSending(false)\n  }, [search_term, dispatch]) // update the callback if the state changes\n\n  return (\n    <InputAdornment position=\"end\">\n      <IconButton type=\"submit\" disabled={isSending} onClick={sendRequest} aria-label=\"search\">\n        <SearchIcon />\n      </IconButton>\n    </InputAdornment>\n  )\n}\n\nexport default Component;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport InputBase from '@material-ui/core/InputBase';\nimport SearchButton from './SearchButton';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst useStyles = makeStyles((theme) => ({\n  input: {\n    margin: theme.spacing(1),\n  },\n  root: {\n    margin: theme.spacing(1),\n    [theme.breakpoints.up('md')]: {\n      marginRight: theme.spacing(3),\n    },\n  }\n}));\n\nconst onChange = dispatch => event => dispatch({\n  type: \"SET_SEARCH_TERM\",\n  payload: event.target.value,\n})\n\nconst Component = props => {\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  return (\n    <Paper component=\"form\" onSubmit={e => { e.preventDefault(); }}>\n      <InputBase\n        placeholder=\" Search...\"\n        className={classes.input}\n        fullWidth\n        inputProps={{ 'aria-label': 'search' }}\n        onChange={onChange(dispatch)}\n        endAdornment={<SearchButton />}\n      />\n    </Paper>\n  )\n}\n\nexport default Component;\n","import { useEffect } from 'react';\nimport { useAuth0 } from '@auth0/auth0-react';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from \"react-redux\";\nimport { deta } from \"../api/common\";\n\nconst createUser = body => fetch(`${deta}/user`, {\n  method: 'POST',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify(body)\n}).then(res => res.json())\n\nexport const useLogin = () => {\n  const dispatch = useDispatch();\n  const { saved } = useSelector(state => state.pricesReducer.user);\n  const { isAuthenticated, user, loginWithRedirect, logout } = useAuth0();\n\n  useEffect(() => {\n    if (isAuthenticated && !saved) {\n      createUser(user).then(data => dispatch({\n        type: \"SET_USER\",\n        payload: {\n          isAuthenticated,\n          details: data,\n        }\n      }));\n    }\n  }, [dispatch, isAuthenticated, saved, user]);\n\n  return {\n    isAuthenticated,\n    user,\n    loginWithRedirect,\n    logout,\n  }\n}\n","import React, { useEffect, Fragment } from 'react';\nimport { Grid } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Badge from '@material-ui/core/Badge';\nimport StockDropdown from '../components/StockDropdown';\nimport StoreDropdown from '../components/StoreDropdown';\nimport Breadcrumbs from '../components/Breadcrumbs';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useSelector } from \"react-redux\";\nimport { Link } from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport EmptyImg from './cartoff.svg';\nimport Paper from '@material-ui/core/Paper';\nimport SearchInput from '../components/SearchInput';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Container from '@material-ui/core/Container';\nimport packagejs from '../../package.json';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { paginate, pages, changePage, useParams } from '../common';\nimport { useHistory } from 'react-router-dom';\nimport IconButton from '@material-ui/core/IconButton';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport { ShoppingCart, Favorite, Pageview, Compare } from '@material-ui/icons';\nimport { useLogin } from '../hooks/useLogin';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: '#d8dee9',\n    fontFamily: \"sans\",\n  },\n  appbar: {\n    marginBottom: theme.spacing(4),\n  },\n  bottomBar: {\n    top: 'auto',\n    bottom: 0,\n  },\n  content: {\n    minHeight: '90vh',\n    padding: 10\n  },\n  margin: {\n    color: \"white\"\n  },\n  pagination: {\n    padding: theme.spacing(1),\n  },\n}));\n\nconst MainPaper = props => (\n  <Paper variant=\"outlined\" square {...props} />\n)\n\nconst LoginButton = props => {\n  const { loginWithRedirect } = props;\n  return <Button onClick={() => loginWithRedirect()} color=\"inherit\">Login</Button>;\n};\n\nconst LogoutButton = props => {\n  const { user, logout } = props;\n  const { picture, name } = user;\n\n  return (\n    <IconButton onClick={() => logout({ returnTo: window.location.origin })} >\n      <Avatar alt={name} src={picture} />\n    </IconButton>\n  );\n};\n\nconst CartButton = props => {\n  const { cart_results } = props;\n\n  return (\n    <IconButton>\n      <Badge badgeContent={cart_results.length} color=\"secondary\" max={99999} style={{ color: \"white\" }} component={Link} to=\"/cart\">\n        <ShoppingCart />\n      </Badge>\n    </IconButton>\n  )\n}\n\nconst FavoriteButton = () => {\n  return (\n    <IconButton style={{ color: \"white\" }} component={Link} to=\"/wishlist\">\n      <Favorite />\n    </IconButton>\n  )\n}\n\nconst SearchButton = () => {\n  return (\n    <IconButton style={{ color: \"white\" }} component={Link} to=\"/search\">\n      <Pageview />\n    </IconButton>\n  )\n}\n\nconst CompareButton = () => {\n  return (\n    <IconButton style={{ color: \"white\" }} component={Link} to=\"/compare\">\n      <Compare />\n    </IconButton>\n  )\n}\n\nconst Bar = props => {\n  const { matches, breadcrumbs, isAuthenticated, cart_results, loginWithRedirect, logout, user } = props;\n\n  return (\n    <Toolbar>\n      { breadcrumbs && <Breadcrumbs />}\n      { matches && <Fragment>\n        <SearchInput />\n        <SearchButton />\n        <FavoriteButton />\n        { false && <CompareButton />}\n        <CartButton cart_results={cart_results} />\n        { isAuthenticated ? <LogoutButton logout={logout} user={user} /> : <LoginButton loginWithRedirect={loginWithRedirect} />}\n      </Fragment>}\n    </Toolbar>\n  )\n}\n\nconst Nothing = props => (\n  <Grid container alignContent=\"center\" alignItems=\"center\" direction=\"column\">\n    <Grid item xs={12}>\n      {props.spinner ? <CircularProgress /> : <Typography variant=\"body1\" color=\"inherit\"><img style={{ height: 300 }} alt=\"\" src={EmptyImg} /></Typography>}\n    </Grid>\n  </Grid>\n)\n\nconst Controls = props => {\n  const { current_stores, additional_controls } = props;\n\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <StoreDropdown stores={current_stores} />\n      </Grid>\n      <Grid item xs={12}>\n        <StockDropdown />\n      </Grid>\n      { additional_controls !== null && additional_controls }\n    </Grid>\n  );\n}\n\nconst Main = props => {\n  const { child_data, page_size, paging, page, page_name, history, pre_component, store_filtered, component, page_data, spinner } = props;\n\n  return (\n    <Grid container spacing={2}>\n      {child_data.length > page_size && paging && <Grid item xs={12}>\n        <Pagination variant=\"outlined\" shape=\"rounded\" count={pages(child_data, page_size)} page={page} onChange={changePage(page_name, history)} />\n      </Grid>}\n      {pre_component !== undefined && pre_component}\n      {store_filtered.length > 0 ? component(page_data) : <Nothing spinner={spinner} />}\n      {child_data.length > page_size && paging && <Grid item xs={12}>\n        <Pagination variant=\"outlined\" shape=\"rounded\" count={pages(child_data, page_size)} page={page} onChange={changePage(page_name, history)} />\n      </Grid>}\n    </Grid>\n  );\n}\n\nexport default props => {\n  const classes = useStyles();\n  const matches = useMediaQuery(theme => theme.breakpoints.up('md'));\n  const { stores, cart_results, spinner, date } = useSelector(state => state.pricesReducer)\n  const { store_filtered, stock_filtered, child_data, page_name, component, pre_component, additional_controls, paging=true } = props;\n  const store_ids = [...new Set(stock_filtered.map(d => d.store_id))]\n  const current_stores = stores.filter(d => store_ids.includes(d.id));\n  const page_size = props.page_size || 12;\n  const history = useHistory();\n  const { page } = useParams();\n  const page_data = paginate(child_data, page_size, page, paging);\n  const { loginWithRedirect, logout, isAuthenticated, user } = useLogin();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [page]);\n\n  return (\n    <Grid container className={classes.root} alignContent=\"center\" alignItems=\"center\">\n      <AppBar position=\"static\" className={classes.appbar}>\n        <Bar user={user} breadcrumbs={true} matches={matches} isAuthenticated={isAuthenticated} cart_results={cart_results} loginWithRedirect={loginWithRedirect} logout={logout} />\n      </AppBar>\n\n      <Container maxWidth=\"xl\">\n        <Grid container spacing={4} component={MainPaper} className={classes.content}>\n          <Grid item md={2} xs={12} component=\"div\">\n            <Controls current_stores={current_stores} additional_controls={additional_controls} />\n          </Grid>\n\n          <Grid item md={10} xs={12} component=\"div\">\n            <Main\n              child_data={child_data}\n              page_size={page_size}\n              paging={paging}\n              page={page}\n              page_name={page_name}\n              history={history}\n              pre_component={pre_component}\n              store_filtered={store_filtered}\n              spinner={spinner}\n              page_data={page_data}\n              component={component}\n            />\n          </Grid>\n        </Grid>\n      </Container>\n\n      {!matches && <AppBar position=\"fixed\" className={classes.bottomBar}>\n        <Bar user={user} breadcrumbs={false} matches={!matches} isAuthenticated={isAuthenticated} cart_results={cart_results} loginWithRedirect={loginWithRedirect} logout={logout} />\n      </AppBar>}\n\n      <Grid item xs={12}>\n        <Toolbar>\n          <Typography variant=\"body1\" color=\"inherit\">\n            © 2022 Dimitris Raviolos - {packagejs.version} - Last update: {new Date(date).toLocaleDateString('el-GR')}\n          </Typography>\n        </Toolbar>\n      </Grid>\n    </Grid>\n  )\n}\n","import { useSelector } from \"react-redux\";\n\nexport const storeFilter = store => d => d.store_id === store || store === -1\nexport const stockFilter = stock => d => d.stock === stock || stock === -1\n\nexport const useStep = f => {\n  const { store, stock, prices } = useSelector(state => state.pricesReducer)\n  const page_filtered = f !== undefined ? f(prices) : prices\n  const stock_filtered = page_filtered.filter(stockFilter(stock))\n  const store_filtered = stock_filtered.filter(storeFilter(store))\n\n  return {\n    page_filtered,\n    stock_filtered,\n    store_filtered,\n  }\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport BoardgameCard from '../components/BoardgameCard';\nimport GenericPage from './GenericPage';\nimport { useStep } from '../hooks/useStep';\n\nexport const pricesToGroups = data => {\n  const rs = [];\n\n  data.map(d => {\n    if (rs[d.boardgame_id] === undefined) {\n      rs[d.boardgame_id] = {\n        ...d,\n        items: []\n      }\n\n      if (rs[d.boardgame_id].rank === undefined) {\n        rs[d.boardgame_id].rank = 999999;\n      }\n    }\n\n    rs[d.boardgame_id].items.push(d)\n    return d\n  })\n\n  return rs.filter(d => d.items.length > 0).sort((a, b) => a.rank - b.rank)\n}\n\nexport default () => {\n  const { store_filtered, stock_filtered } = useStep();\n  const grouped = pricesToGroups(store_filtered);\n\n  return (\n    <GenericPage\n      child_data={grouped}\n      stock_filtered={stock_filtered}\n      store_filtered={store_filtered}\n      paging={true}\n      page_name=\"/\"\n      component={data => data.map((tile) => (\n        <Grid key={tile.id} item xs={12} md={6} lg={3}>\n          <BoardgameCard {...tile} />\n        </Grid>\n      ))}\n    />\n  )\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport IconButton from '@material-ui/core/IconButton';\nimport { useDispatch } from \"react-redux\";\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { Typography } from '@material-ui/core';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport classNames from 'classnames';\nimport {\n  FacebookShareButton,\n  FacebookIcon,\n  FacebookMessengerShareButton,\n  FacebookMessengerIcon,\n  ViberShareButton,\n  ViberIcon,\n  WhatsappShareButton,\n  WhatsappIcon,\n  TwitterShareButton,\n  TwitterIcon,\n} from \"react-share\";\n\nconst useStyles = makeStyles((theme) => ({\n  media: {\n    height: 0,\n    paddingTop: '75%', // 16:9\n  },\n  card_header: {\n    minHeight: 110,\n  },\n  out_of_stock: {\n    opacity: 0.5,\n  }\n}));\n\nconst addUTM = url => {\n  let rs;\n  if(url[url.length-1] === \"/\") {\n    rs = url.slice(0, -1)\n  } else {\n    rs = url\n  }\n\n  rs += \"?utm_source=dictummortuum\"\n  rs += \"&utm_medium=dictummortuum\"\n  rs += \"&utm_campaign=dictummortuum\"\n  return rs\n}\n\nconst Media = props => {\n  const { store_thumb, url, thumb, boardgame_id, stock } = props.boardgame;\n  const { self_ref } = props;\n  const classes = useStyles();\n\n  if(self_ref) {\n    return (\n      <Link to={\"/item/\" + boardgame_id + \"?stock=\" + stock}>\n        <CardMedia\n          className={classes.media}\n          image={store_thumb === \"\" ? thumb : store_thumb}\n        />\n      </Link>\n    )\n  } else {\n    return (\n      <a href={addUTM(url)} target=\"_blank\" rel=\"noopener noreferrer\">\n        <CardMedia\n          className={classes.media}\n          image={store_thumb === \"\" ? thumb : store_thumb}\n        />\n      </a>\n    )\n  }\n}\n\nexport default props => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const { stores } = useSelector(state => state.pricesReducer);\n  const { url, name, store_id, price, stock } = props.boardgame;\n  const self = window.location.href;\n\n  return (\n    <Card className={classNames({[classes.out_of_stock]: stock === 2})}>\n      { url && <Media {...props} />}\n      <CardActions>\n        <IconButton component=\"div\">\n          <FacebookShareButton style={{ height: 24 }} url={self}>\n            <FacebookIcon size={24} round />\n          </FacebookShareButton>\n        </IconButton>\n\n        <IconButton component=\"div\">\n          <FacebookMessengerShareButton style={{ height: 24 }} url={self}>\n            <FacebookMessengerIcon size={24} round />\n          </FacebookMessengerShareButton>\n        </IconButton>\n\n        <IconButton component=\"div\">\n          <ViberShareButton style={{ height: 24 }} url={self}>\n            <ViberIcon size={24} round />\n          </ViberShareButton>\n        </IconButton>\n\n        <IconButton component=\"div\">\n          <WhatsappShareButton style={{ height: 24 }} url={self}>\n            <WhatsappIcon size={24} round />\n          </WhatsappShareButton>\n        </IconButton>\n\n        <IconButton component=\"div\">\n          <TwitterShareButton style={{ height: 24 }} url={self}>\n            <TwitterIcon size={24} round />\n          </TwitterShareButton>\n        </IconButton>\n      </CardActions>\n      <CardContent className={classes.card_header}>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\">\n          {stores.filter(d => d.id === store_id).map(d => d.name)}\n        </Typography>\n        <Typography variant=\"subtitle1\">\n          {name}\n        </Typography>\n      </CardContent>\n      <CardActions>\n        <IconButton onClick={() => dispatch({\n          type: \"ADD_TO_CART\",\n          cart: props.boardgame,\n        })}>\n          <AddShoppingCartIcon />\n        </IconButton>\n        <div style={{ marginLeft: 'auto', marginRight: 10}}>\n          {\"€ \" + price}\n        </div>\n      </CardActions>\n    </Card>\n  )\n}\n","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { useSelector } from \"react-redux\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport { stockFilter, storeFilter } from '../hooks/useStep';\nimport {\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  ResponsiveContainer,\n  ComposedChart,\n  Tooltip,\n  Area,\n} from 'recharts';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(4),\n  },\n  label: {\n    marginBottom: theme.spacing(1),\n  }\n}));\n\nconst maxMinAvg = (arr) => {\n  var max = arr[0].price;\n  var min = arr[0].price;\n  var sum = arr[0].price;\n\n  for (var i = 1; i < arr.length; i++) {\n    if (arr[i].price > max) {\n      max = arr[i].price;\n    }\n    if (arr[i].price < min) {\n      min = arr[i].price;\n    }\n    sum = sum + arr[i].price;\n  }\n\n  return {\n    max: parseFloat(max.toFixed(2)),\n    min: parseFloat(min.toFixed(2)),\n    avg: parseFloat((sum/arr.length).toFixed(2))\n  }\n}\n\nconst transform = data => {\n  const rs = {};\n\n  data.map(d => {\n    if(rs[d.cr_date] === undefined) {\n      rs[d.cr_date] = [];\n    }\n\n    rs[d.cr_date].push(d)\n\n    return d\n  })\n\n  const retval = [];\n\n  for(let k in rs) {\n    const date = new Date(k)\n    const { avg, min, max } = maxMinAvg(rs[k])\n\n    retval.push({\n      avg,\n      range: [min, max],\n      cr_date: date.valueOf(),\n    })\n  }\n\n  return retval\n}\n\nconst formatDate = d => {\n  const date = new Date(d)\n  return date.getDate() + \"/\" + (date.getMonth() + 1)\n}\n\nconst formatLabel = d => {\n  const date = new Date(d)\n  return date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear()\n}\n\nconst domain = col => {\n  if(col.length === 0) {\n    return []\n  } else {\n    return [col[0].cr_date - 43200000, col[col.length-1].cr_date + 43200000]\n  }\n}\n\nexport default props => {\n  const classes = useStyles();\n  const { history } = props;\n  const { store, stock } = useSelector(state => state.pricesReducer)\n  const p = history.filter(stockFilter(stock)).filter(storeFilter(store))\n  const processed = transform(p).sort((a, b) => b.cr_date - a.cr_date)\n\n  return (\n     <Paper className={classes.root}>\n      <Typography variant=\"body1\" color=\"inherit\" className={classes.label}>\n        Price history\n      </Typography>\n      <ResponsiveContainer width=\"100%\" height={200} >\n        <ComposedChart data={processed}>\n          <CartesianGrid strokeDasharray=\"5 5\" />\n          <XAxis dataKey=\"cr_date\" scale=\"time\" type=\"number\" domain={domain(processed)} tickFormatter={formatDate} />\n          <YAxis domain={['auto', 'auto']} type=\"number\" />\n          <Tooltip labelFormatter={formatLabel} />\n          <Area type=\"monotone\" dataKey=\"range\" fillOpacity={0.3} fill=\"#5e81ac\" />\n          <Line type=\"monotone\" dataKey=\"avg\" stroke=\"#bf616a\" strokeWidth={3} activeDot={{ r: 8 }} />\n        </ComposedChart>\n      </ResponsiveContainer>\n    </Paper>\n  )\n}\n","import { useState, useEffect } from 'react';\nimport { base } from \"../api/common\";\n\nconst fetchPrices = boardgame_id => {\n  return fetch(base + '/rest/v1/boardgames/' + boardgame_id + '/prices.json').then(res => res.json())\n}\n\nconst fetchPrice = price_id => {\n  return fetch(base + '/rest/v1/prices/' + price_id + '.json').then(res => res.json())\n}\n\nexport const usePrices = boardgame_id => {\n  const [prices, setPrices] = useState([])\n\n  useEffect(() => {\n    fetchPrices(boardgame_id).then(data => setPrices(data))\n  }, [boardgame_id])\n\n  return prices\n}\n\nexport const usePrice = price_id => {\n  const [price, setPrice] = useState([])\n\n  useEffect(() => {\n    let isMounted = true;\n\n    fetchPrice(price_id).then(data => {\n      if (isMounted) {\n        setPrice(data)\n      }\n    })\n\n    return () => { isMounted = false };\n  }, [price_id])\n\n  return price\n}\n","import { useState, useEffect } from 'react';\nimport { base } from \"../api/common\";\n\nexport const fetchPriceHistory = boardgame_id => {\n  return fetch(base + '/rest/v1/boardgames/' + boardgame_id + '/history.json').then(res => res.json())\n}\n\nexport const useHistory = boardgame_id => {\n  const [history, setHistory] = useState([])\n\n  useEffect(() => {\n    let isMounted = true;\n\n    fetchPriceHistory(boardgame_id).then(data => {\n      if (isMounted) {\n        setHistory(data)\n      }\n    })\n\n    return () => { isMounted = false };\n  }, [boardgame_id])\n\n  return history\n}\n","import { useLocation } from 'react-router-dom';\n\nexport const useId = () => {\n  const { pathname } = useLocation();\n  const id = parseInt(pathname.split(\"/\")[2]);\n  return id\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport PriceCard from '../components/PriceCard';\nimport GenericPage from './GenericPage';\nimport BoardgameHistoricPrice from '../components/BoardgameHistoricPrice';\nimport { usePrices } from '../hooks/usePrices';\nimport { useHistory } from '../hooks/useHistory';\nimport { useStep } from '../hooks/useStep';\nimport { useId } from '../hooks/useId';\n\nconst fn = id => col => col.filter(d => d.boardgame_id === id).sort((a, b) => a.price - b.price)\n\nexport default () => {\n  const id = useId();\n  const { stock_filtered, store_filtered } = useStep(fn(id));\n  const history = useHistory(id);\n  const prices = usePrices(id);\n  const price_ids = store_filtered.map(d => d.id);\n\n  return (\n    <GenericPage\n      child_data={prices.filter(d => price_ids.includes(d.id))}\n      stock_filtered={stock_filtered}\n      store_filtered={store_filtered}\n      paging={false}\n      pre_component={\n        <Grid item xs={12}>\n          <BoardgameHistoricPrice history={history} />\n        </Grid>\n      }\n      component={data => data.map((tile) => (\n        <Grid key={tile.id} item xs={12} md={6} lg={3}>\n          <PriceCard boardgame={tile} />\n        </Grid>\n      ))}\n    />\n  )\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport PriceCard from '../components/PriceCard';\nimport GenericPage from './GenericPage';\nimport { useSelector } from \"react-redux\";\nimport { useStep } from '../hooks/useStep';\n\nexport default () => {\n  const { cart_results } = useSelector(state => state.pricesReducer);\n  const { store_filtered, stock_filtered } = useStep(() => cart_results);\n\n  return (\n    <GenericPage\n      child_data={store_filtered}\n      stock_filtered={stock_filtered}\n      store_filtered={store_filtered}\n      page_name=\"/cart\"\n      component={data => data.map((tile) => (\n        <Grid key={tile.id} item xs={12} md={6} lg={4}>\n          <PriceCard boardgame={tile} />\n        </Grid>\n      ))}\n    />\n  )\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport GenericPage from './GenericPage';\nimport SearchInput from '../components/SearchInput';\nimport BoardgameCard from '../components/BoardgameCard';\nimport { useStep } from '../hooks/useStep';\nimport { useSelector } from \"react-redux\";\nimport fuse from 'fuse.js';\n\nconst searchFilter = col => {\n  const { search_term, search_enabled, search_results } = useSelector(state => state.pricesReducer)\n\n  if(search_term !== \"\" && search_enabled) {\n    const options = {\n      includeScore: true,\n      shouldSort: true,\n      ignoreLocation: true,\n      keys: ['name']\n    }\n\n    const f = new fuse(col, options)\n    const res = f.search(search_term).filter(d => d.score <= 0.6)\n    return res.map(d => d.item)\n  } else {\n    return search_results\n  }\n}\n\nexport const pricesToGroups = data => {\n  const rs = [];\n  const map = {};\n\n  data.map((d, i) => {\n    if (map[d.boardgame_id] !== undefined) {\n      i = map[d.boardgame_id];\n    }\n\n    if (rs[i] === undefined) {\n      rs[i] = {\n        ...d,\n        items: []\n      }\n      map[d.boardgame_id] = i\n    }\n\n    rs[i].items.push(d)\n    return d\n  })\n\n  return rs.filter(d => d.items.length > 0)\n}\n\nexport default () => {\n  const { store_filtered, stock_filtered } = useStep(searchFilter);\n  const grouped = pricesToGroups(store_filtered);\n\n  return (\n    <GenericPage\n      child_data={grouped}\n      stock_filtered={stock_filtered}\n      store_filtered={store_filtered}\n      paging={true}\n      page_name=\"/search\"\n      pre_component={\n        <Grid item xs={12}>\n          <SearchInput />\n        </Grid>\n      }\n      component={data => data.map((tile) => (\n        <Grid key={tile.id} item xs={12} md={6} lg={3}>\n          <BoardgameCard {...tile} />\n        </Grid>\n      ))}\n    />\n  )\n}\n","import React from 'react';\nimport { Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport { useBoardgame } from '../hooks/useBoardgame';\nimport Paper from '@material-ui/core/Paper';\nimport classNames from 'classnames';\nimport { Link } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    marginBottom: theme.spacing(1),\n  },\n  padding: {\n    paddingLeft: theme.spacing(1),\n  },\n  colored: {\n    backgroundColor: \"#81a1c1\",\n    color: \"white\",\n  }\n}));\n\nexport default props => {\n  const classes = useStyles();\n  const { id, boardgame_id, rank, items, alternate } = props;\n  const boardgame = useBoardgame(boardgame_id);\n  const { boardgame_name } = boardgame;\n  const available_prices = items.sort((a, b) => a.price - b.price)\n  const l = available_prices.length;\n\n  let lowest = undefined;\n  let highest = undefined;\n\n  if (l >= 1) {\n    lowest = available_prices[0]\n  }\n\n  if (l >= 2) {\n    if (lowest.price !== available_prices[l-1].price) {\n      highest = available_prices[l-1]\n    }\n  }\n\n  return (\n    <Link to={\"/item/\" + boardgame_id} style={{ textDecoration: \"none\"}}>\n      <Paper className={classNames(classes.margin, {[classes.colored]: alternate === 0})}>\n        <Grid container spacing={2} key={id}>\n          <Grid item xs={8}>\n            <Typography variant=\"subtitle1\" className={classes.padding}>\n\n                {boardgame_name}\n\n            </Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography variant=\"subtitle1\">\n              BGG Rank {rank}\n            </Typography>\n          </Grid>\n          <Grid item xs={2}>\n            <Typography variant=\"subtitle1\">\n            {lowest && \"€\" + lowest.price} {highest && \"- €\" + highest.price}\n            </Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n    </Link>\n  )\n}\n","import { useState, useEffect } from 'react';\nimport { bgg_xmlapi, forceError, logError, transformBggData } from \"../api/common\";\nimport XMLParser from 'react-xml-parser';\nimport pRetry from 'p-retry';\n\nconst req = list_id => fetch(`${bgg_xmlapi}/geeklist/${list_id}`)\n  .then(forceError)\n  .then(res => res.text())\n  .then(data => {\n    const xml = new XMLParser().parseFromString(data);\n    return transformBggData(xml)\n  })\n\nconst fetchGeeklist = (list_id, retries) => pRetry(async () => req(list_id), { onFailedAttempt: logError, retries })\n\nexport const useGeeklist = geeklist_id => {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    fetchGeeklist(geeklist_id, 2).then(rs => {\n      setItems(rs)\n    })\n  }, [geeklist_id])\n\n  return items\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport GeeklistCard from '../components/GeeklistCard';\nimport GenericPage from './GenericPage';\nimport { useSelector } from \"react-redux\";\nimport { pricesToGroups } from './LandingPage';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { useGeeklist } from '../hooks/useGeeklist';\nimport { useStep } from '../hooks/useStep';\nimport { useId } from '../hooks/useId';\n\nconst Spinner = () => (\n  <Grid container alignContent=\"center\" alignItems=\"center\" direction=\"column\">\n    <Grid item xs={12}>\n      <CircularProgress />\n    </Grid>\n  </Grid>\n)\n\nexport default () => {\n  const geeklist_id = useId();\n  const geeklist = useGeeklist(geeklist_id);\n  const { spinner } = useSelector(state => state.pricesReducer);\n  const { stock_filtered, store_filtered } = useStep(col => col.filter(d => geeklist.includes(d.boardgame_id)));\n  const grouped = pricesToGroups(store_filtered);\n\n  return (\n    <GenericPage\n      child_data={grouped}\n      stock_filtered={stock_filtered}\n      store_filtered={store_filtered}\n      page_size={500}\n      page_name={\"/geeklist/\" + geeklist_id}\n      component={data => spinner ? <Spinner /> : data.map((tile, i) => (\n        <Grid key={tile.id} item xs={12}>\n          <GeeklistCard {...tile} alternate={i%2} />\n        </Grid>\n      ))}\n    />\n  )\n}\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport { Link } from \"react-router-dom\";\n\nexport default props => {\n  const { id, boardgame_id, wishlist } = props;\n  const [ wish ] = wishlist.filter(d => d.id === boardgame_id);\n  const { thumbnail } = wish;\n\n  return (\n    <Card key={id} square={true} elevation={3}>\n      <Link to={\"/item/\" + boardgame_id}>\n        <CardMedia style={{ paddingTop: '75%' }} image={thumbnail} />\n      </Link>\n    </Card>\n  )\n}\n","import { useEffect } from 'react';\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useLocation } from 'react-router-dom';\nimport { bgg_xmlapi2, forceError, logError, transformBggData } from \"../api/common\";\nimport XMLParser from 'react-xml-parser';\nimport pRetry from 'p-retry';\n\nconst req = name => fetch(`${bgg_xmlapi2}/collection?username=${encodeURIComponent(name)}&wishlist=1`)\n  .then(forceError)\n  .then(res => res.text())\n  .then(data => {\n    const xml = new XMLParser().parseFromString(data);\n    return transformBggData(xml)\n  })\n\nexport const fetchWishList = (name, retries) => pRetry(async () => req(name), { onFailedAttempt: logError, retries })\n\nexport const useWishlist = () => {\n  const { wishlist } = useSelector(state => state.pricesReducer)\n  const { pathname } = useLocation();\n  const username = pathname.split(\"/\")[2]\n  const dispatch = useDispatch();\n\n  useEffect(async () => {\n    if (username !== undefined) {\n      dispatch({\n        type: \"SET_WISHLIST_USERNAME\",\n        payload: username,\n      })\n\n      let rs;\n      try {\n        rs = await fetchWishList(username, 2)\n      } catch(e) {\n        rs = [];\n      }\n\n      dispatch({\n        type: \"SET_WISHLIST\",\n        payload: rs\n      })\n\n    }\n  }, [username])\n\n  return wishlist\n}\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport { fetchWishList } from '../hooks/useWishlist';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\n\nconst onChange = dispatch => event => dispatch({\n  type: \"SET_WISHLIST_USERNAME\",\n  payload: event.target.value,\n})\n\nconst Component = props => {\n  const dispatch = useDispatch();\n  const [isSending, setIsSending] = useState(false)\n  const isMounted = useRef(true)\n  const { wishlist_term } = useSelector(state => state.pricesReducer)\n\n  // set isMounted to false when we unmount the component\n  useEffect(() => {\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n\n  const sendRequest = useCallback(async term => {\n    // don't send again while we are sending\n    if (isSending) return\n    // update state\n    setIsSending(true)\n\n    dispatch({\n      type: \"TOGGLE_SPINNER\"\n    })\n\n    // send the actual request\n    let rs;\n    try {\n      rs = await fetchWishList(term, 2)\n    } catch(e) {\n      rs = [];\n    }\n\n    dispatch({\n      type: \"SET_WISHLIST\",\n      payload: rs\n    })\n\n    dispatch({\n      type: \"TOGGLE_SPINNER\"\n    })\n\n    // once the request is sent, update state again\n    if (isMounted.current) // only update if we are still mounted\n      setIsSending(false)\n  }, [dispatch]) // update the callback if the state changes\n\n  return (\n    <FormControl variant=\"outlined\" fullWidth>\n      <InputLabel htmlFor=\"bgg-input\">Bgg username</InputLabel>\n      <OutlinedInput\n        style={{ paddingRight: 0 }}\n        id=\"bgg-input\"\n        value={wishlist_term}\n        onChange={onChange(dispatch)}\n        onKeyPress={e => {\n          if(e.key === 'Enter') {\n            e.preventDefault();\n            sendRequest(wishlist_term);\n          }\n        }}\n        endAdornment={\n          <InputAdornment position=\"end\">\n            <IconButton disabled={isSending} onClick={e => { e.preventDefault(); sendRequest(wishlist_term) }} aria-label=\"search\">\n              <SearchIcon />\n            </IconButton>\n          </InputAdornment>\n        }\n      />\n    </FormControl>\n  )\n}\n\nexport default Component;\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport CompareCard from '../components/CompareCard';\nimport BoardgameCard from '../components/BoardgameCard';\nimport GenericPage from './GenericPage';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport BggInput from '../components/BggInput';\nimport { useWishlist } from '../hooks/useWishlist';\nimport { useStep } from '../hooks/useStep';\nimport { useStore } from '../hooks/useStore';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { pricesToGroups } from './LandingPage';\nimport Switch from '@material-ui/core/Switch';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Typography from '@material-ui/core/Typography';\n\nconst Spinner = () => (\n  <Grid container alignContent=\"center\" alignItems=\"center\" direction=\"column\">\n    <Grid item xs={12}>\n      <CircularProgress />\n    </Grid>\n  </Grid>\n)\n\nconst PriorityDropdown = props => {\n  const { wishlist_priority } = useSelector(state => state.pricesReducer)\n  const dispatch = useDispatch();\n\n  return (\n    <FormControl variant=\"outlined\" fullWidth>\n      <InputLabel id=\"priority-select-label\">Priority</InputLabel>\n      <Select\n        labelId=\"priority-select-label\"\n        id=\"priority-select\"\n        value={wishlist_priority}\n        onChange={(event) => {\n          dispatch({\n            type: \"SET_PRIORITY\",\n            payload: event.target.value\n          })\n        }}\n      >\n        <MenuItem key={-1} value={-1}>All priorities</MenuItem>\n        {[1,2,3,4,5].map(d => (\n          <MenuItem key={d} value={d}>Priority {d}</MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  )\n}\n\nconst ViewSwitch = props => {\n  const { wishlist_stores_view } = useSelector(state => state.pricesReducer)\n  const dispatch = useDispatch();\n\n  return (\n    <FormControl component=\"fieldset\">\n      <FormGroup>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={wishlist_stores_view}\n              onChange={(event) => {\n                dispatch({\n                  type: \"SET_WISHLIST_VIEW\",\n                  payload: event.target.checked,\n                })\n              }}\n            />\n          }\n          label=\"Stores view\"\n        />\n      </FormGroup>\n    </FormControl>\n  )\n}\n\nexport const pricesToStores = data => {\n  const rs = [];\n\n  data.map(d => {\n    if (rs[d.store_id] === undefined) {\n      rs[d.store_id] = {\n        store_id: d.store_id,\n        items: []\n      };\n    }\n\n    rs[d.store_id].items.push(d);\n    return d;\n  })\n\n  return rs.filter(d => d.items.length > 0).sort((a, b) => b.items.length - a.items.length);\n}\n\nconst StoresList = props => {\n  const { store_id, items, wishlist } = props;\n  const store = useStore(store_id);\n  let sum = 0.0;\n\n  items.map(d => {\n    sum += d.price;\n    return d;\n  })\n\n  return (\n    <Grid container spacing={1}>\n      <Grid item xs={12}>\n        <Typography variant=\"h4\">\n          {store.name} -  €{sum.toFixed(2)}\n        </Typography>\n      </Grid>\n      {items.sort((a, b) => a.boardgame_id - b.boardgame_id).map(d => (\n        <Grid key={d.id} item xs={6} md={3} lg={1}>\n          <CompareCard {...d} wishlist={wishlist} />\n        </Grid>\n      ))}\n    </Grid>\n  )\n}\n\nconst WishesView = data => data.map((tile) => (\n  <Grid key={tile.id} item xs={12} md={6} lg={3}>\n    <BoardgameCard {...tile} />\n  </Grid>\n));\n\nconst StoresView = wishlist => data => data.map(store => (\n  <Grid key={store.store_id} item xs={12}>\n    <StoresList {...store} wishlist={wishlist} />\n  </Grid>\n));\n\nexport default () => {\n  const wishlist = useWishlist();\n  const { wishlist_priority, wishlist_stores_view, spinner } = useSelector(state => state.pricesReducer);\n  const priority_filtered = wishlist.filter(d => parseInt(d.status.wishlistpriority) === wishlist_priority || wishlist_priority === -1);\n  const { stock_filtered, store_filtered } = useStep(col => col.filter(d => priority_filtered.map(d => d.id).includes(d.boardgame_id)));\n  let grouped;\n\n  if (wishlist_stores_view) {\n    grouped = pricesToStores(store_filtered);\n  } else {\n    grouped = pricesToGroups(store_filtered);\n  }\n\n  return (\n    <GenericPage\n      child_data={grouped}\n      stock_filtered={stock_filtered}\n      store_filtered={store_filtered}\n      page_name=\"/wishlist\"\n      additional_controls={\n        <React.Fragment>\n          <Grid item xs={12}>\n            <BggInput />\n          </Grid>\n          <Grid item xs={12}>\n            <PriorityDropdown />\n          </Grid>\n          <Grid item xs={12}>\n            <ViewSwitch />\n          </Grid>\n        </React.Fragment>\n      }\n      component={data => spinner ? <Spinner /> : wishlist_stores_view ? StoresView(wishlist)(data) : WishesView(data)}\n    />\n  )\n}\n","import { useSelector } from \"react-redux\";\n\nexport const useStore = store_id  => {\n  const { stores } = useSelector(state => state.pricesReducer);\n  const [ rs ] = stores.filter(d => d.id === store_id);\n  return rs;\n}\n","import React from 'react';\nimport { Grid } from '@material-ui/core';\nimport PriceCard from '../components/PriceCard';\nimport GenericPage from './GenericPage';\nimport { useSelector } from \"react-redux\";\nimport { useStep } from '../hooks/useStep';\n\nexport default () => {\n  const { cart_results } = useSelector(state => state.pricesReducer);\n  const { store_filtered, stock_filtered } = useStep(() => cart_results);\n\n  return (\n    <GenericPage\n      child_data={store_filtered}\n      stock_filtered={stock_filtered}\n      store_filtered={store_filtered}\n      page_name=\"/compare\"\n      component={data => data.map((tile) => (\n        <Grid key={tile.id} item xs={12} md={6} lg={4}>\n          <PriceCard boardgame={tile} />\n        </Grid>\n      ))}\n    />\n  )\n}\n","import { createAsyncThunk } from '@reduxjs/toolkit'\nimport * as fflate from 'fflate';\nimport { base } from \"./common\";\n\nexport const fetchAllPrices = createAsyncThunk('prices', async () => {\n  // const pull = localStorage.getItem('pull');\n  // let origText = localStorage.getItem('prices');\n\n  // if (pull === 'true' || pull === null || origText == null) {\n    const buffer = await fetch(base + '/rest/v1/prices.json.gz').then(res => res.arrayBuffer());\n    const compressed = new Uint8Array(buffer);\n    const decompressed = fflate.decompressSync(compressed);\n    const origText = fflate.strFromU8(decompressed);\n\n    // localStorage.setItem('prices', origText);\n    // localStorage.setItem('pull', 'false');\n  // }\n\n  return JSON.parse(origText || []);\n});\n","import { createAsyncThunk } from '@reduxjs/toolkit'\nimport { base } from \"./common\";\n\nexport const fetchStores = createAsyncThunk('stores', async () => {\n  return await fetch(base + '/rest/v1/stores.json').then(res => res.json())\n})\n","import { createAsyncThunk } from '@reduxjs/toolkit'\nimport { base } from \"./common\";\n\nexport const fetchDate = createAsyncThunk('date', async () => {\n  const saved = localStorage.getItem('date');\n  const date = await fetch(base + '/rest/v1/date.json').then(res => res.json());\n\n  if (saved !== date.date) {\n    console.log(\"updated!\", saved, date.date)\n    localStorage.setItem('date', date.date);\n    localStorage.setItem('pull', 'true');\n  }\n\n  return date;\n});\n","import React, { useEffect } from 'react'\nimport { useDispatch } from \"react-redux\";\nimport { Route, Switch } from \"react-router-dom\";\nimport LandingPage from './pages/LandingPage';\nimport BoardgamePage from './pages/BoardgamePage';\nimport CartPage from './pages/CartPage';\nimport SearchPage from './pages/SearchPage';\nimport GeeklistPage from './pages/GeeklistPage';\nimport WishlistPage from './pages/WishlistPage';\nimport ComparePage from './pages/ComparePage';\nimport { fetchAllPrices } from './api/prices';\nimport { fetchStores } from './api/stores';\nimport { fetchDate } from './api/date';\n\nexport default () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchAllPrices())\n    dispatch(fetchStores())\n    dispatch(fetchDate())\n  }, []);\n\n  return (\n    <Switch >\n      <Route path={`/`} exact>\n        <LandingPage />\n      </Route>\n      <Route path={`/cart`} exact>\n        <CartPage />\n      </Route>\n      <Route path={`/search`} exact>\n        <SearchPage />\n      </Route>\n      <Route path={`/wishlist`} exact>\n        <WishlistPage />\n      </Route>\n      <Route path={`/wishlist/:username`}>\n        <WishlistPage />\n      </Route>\n      <Route path={`/geeklist/:geeklist_id`}>\n        <GeeklistPage />\n      </Route>\n      <Route path={`/item/:boardgame_id`}>\n        <BoardgamePage />\n      </Route>\n      <Route path={`/compare`}>\n        <ComparePage />\n      </Route>\n    </Switch>\n  )\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { combineReducers, createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport { reducer as pricesReducer } from './reducers/prices';\nimport App from './App';\nimport thunkMiddleware from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst rootReducer = combineReducers({\n  pricesReducer,\n})\n\nconst composedEnhancer = composeWithDevTools(applyMiddleware(thunkMiddleware))\n\nconst store = createStore(rootReducer, composedEnhancer)\n\nstore.dispatch({\n  type: \"INIT\"\n});\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#5e81ac\",\n    },\n    secondary: {\n      main: \"#bf616a\",\n    },\n    text: {\n      primary: \"#2e3440\",\n    }\n  },\n  overrides: {\n    MuiInputLabel: {\n      root: {\n        backgroundColor: '#ffffff',\n        paddingLeft: '4px',\n        paddingRight: '4px'\n      }\n    }\n  }\n});\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <HashRouter>\n      <Provider store={store}>\n        <Route path=\"/\">\n          <Auth0Provider domain=\"dev-11hy0hqn.us.auth0.com\" clientId=\"gEd77V5i5uBswawxfycFKL1eEv8BlhdE\" redirectUri={window.location.origin}>\n            <App />\n          </Auth0Provider>\n        </Route>\n      </Provider>\n    </HashRouter>\n  </ThemeProvider>\n, document.getElementById('root'));\n","export const reducer = (state = {}, action) => {\n  switch (action.type) {\n    case \"INIT\":\n      return {\n        store: -1,\n        stock: 0,\n        stocks: [\"In stock\", \"Preorder\", \"Out of stock\"],\n        cart_results: [],\n        search_term: \"\",\n        search_results: [],\n        search_enabled: false,\n        wishlist_term: \"\",\n        wishlist_priority: -1,\n        wishlist_stores_view: false,\n        wishlist: [],\n        prices: [],\n        history: [],\n        stores: [],\n        spinner: true,\n        date: new Date(),\n        user: {\n          isAuthenticated: false,\n          details: {},\n          saved: true,\n        },\n      }\n    case \"prices/fulfilled\": {\n      return {\n        ...state,\n        spinner: false,\n        prices: action.payload,\n      }\n    }\n    case \"date/fulfilled\": {\n      return {\n        ...state,\n        date: new Date(action.payload.date),\n      }\n    }\n    case \"stores/fulfilled\":\n      return {\n        ...state,\n        stores: action.payload\n      }\n    case \"SET_STOCK\": {\n      return {\n        ...state,\n        stock: action.stock,\n      }\n    }\n    case \"SET_STORE\": {\n      return {\n        ...state,\n        store: action.store,\n      }\n    }\n    case \"ADD_TO_CART\":\n      return {\n        ...state,\n        cart_results: [...state.cart_results.filter(d => d.id !== action.cart.id), action.cart],\n      }\n    case \"SET_SEARCH_TERM\":\n      return {\n        ...state,\n        search_term: action.payload,\n        search_enabled: false,\n      }\n    case \"EXECUTE_SEARCH\":\n      return {\n        ...state,\n        search_enabled: true,\n      }\n    case \"SET_WISHLIST\":\n      return {\n        ...state,\n        wishlist: action.payload\n      }\n    case \"SET_WISHLIST_USERNAME\":\n      return {\n        ...state,\n        wishlist_term: action.payload\n      }\n    case \"SET_WISHLIST_VIEW\":\n      return {\n        ...state,\n        wishlist_stores_view: action.payload\n      }\n    case \"SET_PRIORITY\":\n      return {\n        ...state,\n        wishlist_priority: action.payload\n      }\n    case \"TOGGLE_SPINNER\":\n      return {\n        ...state,\n        spinner: !state.spinner\n      }\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: {\n          ...action.payload,\n          saved: true,\n        }\n      }\n    default:\n      return state;\n  }\n};\n"],"sourceRoot":""}